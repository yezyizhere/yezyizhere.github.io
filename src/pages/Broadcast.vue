<script setup>
import Header from '@/layout/Header.vue'
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const openIndex = ref(null)
const router = useRouter()

// ë©”ë‰´ ìë™ ë‹«ê¸°
const toggleAccordion = (idx) => {
  openIndex.value = openIndex.value === idx ? null : idx
}

// 4ë²ˆ ë¼ìš°í„° ì„¤ì •
const goToPage = () => {
  router.push('/cheer')
}

// ì¤€ë¹„ë¬¼
const boxItems = [
  {
    img: 'new/picture/broad/ring.jpg',
    title: 'ë¼ì´íŠ¸ ë§',
  },
  {
    img: '/picture/broad/battery.png',
    title: 'AAA ê±´ì „ì§€ x 3',
  },
  {
    img: '/picture/broad/FAN.png',
    title: 'ê³µì‹ë¯¿ì§€ íšŒì›ì¹´ë“œ',
  },
  {
    img: '/picture/broad/namecard.png',
    title: 'ì‹ ë¶„ì¦',
  },
  {
    img: '/picture/broad/buy.png',
    title: 'ìŒì› êµ¬ë§¤ ë‚´ì—­ì„œ',
  },
  {
    img: '/picture/broad/album.jpg',
    title: 'ìŒë°˜ (ì•¨ë²”)',
  },
]

// ìŒë°˜
const cd = [
  { cdname: 'ì‚¬ìš´ë“œì›¨ì´ë¸Œ', cdurl: 'https://bit.ly/3H5rORC' },
  { cdname: 'ë©”ì´í¬ìŠ¤íƒ€', cdurl: 'https://bit.ly/4mj9DID' },
  { cdname: 'ë®¤ì§ì½”ë¦¬ì•„', cdurl: 'https://bit.ly/3S0X3zJ' },
  { cdname: 'ìœ„ë“œë®¤', cdurl: 'https://bit.ly/4ddcsGL' },
  { cdname: 'YES 24', cdurl: 'https://bit.ly/3GLzxVb' },
  { cdname: 'ì•Œë¼ë”˜', cdurl: 'https://bit.ly/4iVguoA' },
  { cdname: 'ë®¤ì§í”ŒëœíŠ¸', cdurl: 'https://bit.ly/4k9yi0R' },
  { cdname: 'ë¸”ë£¨ë“œë¦¼', cdurl: 'https://bit.ly/3YERDOy' },
  { cdname: 'ì• í”Œë®¤ì§', cdurl: 'https://bit.ly/44tHpEt' },
  { cdname: 'FANS SHOP', cdurl: 'https://bit.ly/44zzAgv' },
]
</script>

<template>
  <section class="bg-neutral-900 min-h-screen h-full text-zinc-200 pb-10">
    <Header />
    <h1 class="pl-7 pt-10 text-xl flex gap-2">
      <p class="text-pink-500">ê³µê°œë°©ì†¡</p>
      ì°¸ì—¬ ì •ë³´
    </h1>

    <!-- ì „ì²´ ë©”ë‰´ -->
    <section class="space-y-3 px-7 py-6 max-w-md mx-auto">
      <!-- 1ë²ˆ -->
      <button class="w-full bg-zinc-800 rounded-lg py-3 px-4 text-left font-semibold transition-colors focus:outline-none" @click="toggleAccordion(0)">ê³µê°œë°©ì†¡ ì¤€ë¹„ë¬¼</button>
      <transition name="accordion">
        <div v-if="openIndex === 0" class="bg-zinc-700 rounded-b-lg px-4 py-3 text-sm">
          <div class="grid grid-cols-2 gap-3">
            <div v-for="(item, idx) in boxItems" :key="idx" class="flex flex-col items-center bg-zinc-800 rounded-lg p-3">
              <img :src="item.img" :alt="item.title" class="w-25 h-15 object-cover rounded-md mb-2" />
              <span class="text-xs text-center font-medium">{{ item.title }}</span>
            </div>
          </div>
        </div>
      </transition>

      <!-- 2ë²ˆ -->
      <button class="w-full bg-zinc-800 rounded-lg py-3 px-4 text-left font-semibold transition-colors focus:outline-none" @click="toggleAccordion(3)">ğŸ’¿ ì•¨ë²” êµ¬ë§¤ ë§í¬</button>
      <transition name="accordion">
        <div v-if="openIndex === 3" class="bg-zinc-700 rounded-b-lg px-4 py-3 text-sm grid grid-cols-3 gap-2 items-center justify-center text-center">
          <div v-for="selectcd in cd" :key="selectcd.cdname">
            <a :href="selectcd.cdurl" class="block w-full text-center py-3 rounded bg-zinc-800 hover:bg-pink-500 transition-colors ring ring-zinc-400">
              {{ selectcd.cdname }}
            </a>
          </div>
        </div>
      </transition>

      <!-- 3ë²ˆ -->
      <button class="w-full bg-zinc-800 rounded-lg py-3 px-4 text-left font-semibold transition-colors focus:outline-none" @click="toggleAccordion(1)">ê³µê°œë°©ì†¡ ì°¸ì—¬ ì•ˆë‚´</button>
      <transition name="accordion">
        <div v-if="openIndex === 1" class="bg-zinc-700 rounded-b-lg px-4 py-3 text-sm flex flex-col gap-2">
          <div>
            1. <a href="https://www.jypfans.com/" class="text-pink-500 underline">FANS</a> [ì´ë²¤íŠ¸] ì°¸ì—¬ ì•ˆë‚´ì—ì„œ ì‹ ì²­<br />
            <p class="text-xs text-pink-500">! [ê³µì§€] ì˜¤í”„ë¼ì¸ ì‹ ì²­ ê°€ì´ë“œ ì°¸ê³ </p>
          </div>

          <p>2. ì´í›„ ê²°ê³¼ ë°œí‘œ, ì°¸ì—¬ ì—¬ë¶€ í™•ì¸</p>
          <p>3. ê³µê°œë°©ì†¡ ì¤€ë¹„ë¬¼ ê²Œì‹œê¸€ í™•ì¸</p>
          <p>4. X <a href="https://x.com/for_midzy" class="text-pink-500 underline">(ITZY SUPPORTERS)</a> ëª¨ì„ ê³µì§€ í™•ì¸</p>
          <p>5. ì‚¬ì „ ì•ˆë‚´ì— ë”°ë¼ í˜„ì¥ ì°¸ì—¬</p>
        </div>
      </transition>

      <!-- 4ë²ˆ -->
      <button class="w-full bg-zinc-800 rounded-lg py-3 px-4 text-left font-semibold transition-colors focus:outline-none" @click="toggleAccordion(2)">ê³µê°œë°©ì†¡ í˜„ì¥ ì•ˆë‚´</button>
      <transition name="accordion">
        <div v-if="openIndex === 2" class="bg-zinc-700 rounded-b-lg px-4 py-3 text-sm flex flex-col gap-2">
          <p>1. ê³µê°œë°©ì†¡ ì¤€ë¹„ë¬¼ ê²Œì‹œê¸€ì— ë§ê²Œ ì§€ì°¸</p>
          <div>
            2. ê³µë°©íŒ ì¤€ë¹„ <br />
            <p class="text-xs text-pink-500">! íŒ¬ë§¤ë‹ˆì €ë‹˜ê»˜ ë°›ì•„ê°€ì„¸ìš”</p>
          </div>
          <p>3. ì°¸ì—¬ ë²ˆí˜¸ì— ë§ê²Œ ì¤„ì„œì„œ ëŒ€ê¸°</p>
          <p>4. ê²€ì‚¬ í›„ ì¬ëª¨ì„ ì‹œê°„ í™•ì¸</p>
          <p>5. ì¬ëª¨ì„ ì‹œê°„ì— ì¤„ì„œì„œ ì…ì¥ ëŒ€ê¸°</p>
        </div>
      </transition>

      <!-- 5ë²ˆ -->
      <button class="w-full bg-pink-500 rounded-lg py-3 px-4 font-semibold text-white transition-colors focus:outline-none" @click="goToPage">
        <div class="flex justify-between w-full items-center">
          <p>ì‘ì›ë²•</p>
          <p>ã€‰</p>
        </div>
      </button>
    </section>
  </section>
</template>

<style scoped>
.accordion-enter-active {
  transition: all 0.3s ease;
  overflow: hidden;
}
.accordion-leave-active {
  transition: all 0.3s ease;
  overflow: hidden;
}
.accordion-enter-from,
.accordion-leave-to {
  max-height: 0;
  opacity: 0;
  transform: translateY(-10px);
}
.accordion-enter-to,
.accordion-leave-from {
  max-height: 500px;
  opacity: 1;
  transform: translateY(0);
}
</style>
